(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{39:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(18),a=n.n(r),i=(n(39),n(2)),o=n(9),u=n(0);function s(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"WELCOME TO COUNTRIES APP"}),Object(u.jsx)(o.b,{to:"/home",children:Object(u.jsx)("button",{children:"Let's get started"})})]})}var l=n(6),j=n(8),b=n(10),d=n(12),O=n(13),p=n.n(O),h="GET_COUNTRY",f="GET_COUNTRY_BY_NAME",v="GET_DETAILS",x="ORDER_BY_COUNTRY",y="FILTER_BY_CONTINENT",m="ORDER_BY_POPULATION",g="GET_ONLY_COUNTRIES",C="GET_ACTIVITY",T="COUNTRY_BY_ACTIVITY";function E(){return function(){var e=Object(d.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:3001/country");case 3:return n=e.sent,e.abrupt("return",t({type:"GET_COUNTRY",payload:n.data}));case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}function _(){return function(){var e=Object(d.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:3001/activity").data;case 3:return n=e.sent,console.log(n),e.abrupt("return",t({type:"GET_ACTIVITY",payload:n}));case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}function A(e){var t=e.name,n=e.continent,c=e.flag,r=e.id;return Object(u.jsx)("div",{children:Object(u.jsxs)(o.b,{to:"/country/".concat(r),children:[Object(u.jsx)("img",{src:c,alt:"Bandera del pa\xeds"}),Object(u.jsx)("h2",{children:t}),Object(u.jsx)("h4",{children:n})]})})}function S(e){for(var t=e.countryPerPage,n=e.allCountries,c=e.paging,r=[],a=1;a<Math.ceil(n/t);a++)r.push(a);return Object(u.jsx)("nav",{children:Object(u.jsx)("ul",{children:r&&r.map((function(e){return Object(u.jsx)("button",{onClick:function(){return c(e)},children:e},e)}))})})}function N(e){var t=e.setCurrentPage,n=Object(j.b)(),r=Object(c.useState)(""),a=Object(l.a)(r,2),i=a[0],o=a[1];function s(e){e.preventDefault(),i?(n(function(e){return function(){var t=Object(d.a)(Object(b.a)().mark((function t(n){var c;return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("http://localhost:3001/country?name=".concat(e));case 3:return c=t.sent,t.abrupt("return",n({type:"GET_COUNTRY_BY_NAME",payload:c.data}));case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),alert("Country not found");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(i)),t(1)):alert("Escriba por favor un nombre de pa\xeds v\xe1lido.")}return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:function(e){return s(e)},children:[Object(u.jsx)("input",{type:"text",placeholder:"Country name...",value:i,onChange:function(e){return function(e){o(e.target.value)}(e)}}),Object(u.jsx)("input",{type:"submit",value:"Search"})]})})}function I(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.allCountries})),n=Object(j.c)((function(e){return e.activity})),r=null===n||void 0===n?void 0:n.map((function(e){return e.name})),a=Object(c.useState)(1),i=Object(l.a)(a,2),s=i[0],b=i[1],d=Object(c.useState)(9),O=Object(l.a)(d,2),p=O[0],h=O[1],f=Object(c.useState)(""),v=Object(l.a)(f,2)[1],x=s*p,y=x-p,m=t.slice(y,x);function g(t){var n;t.preventDefault(),e((n=t.target.value,console.log("pay "+n),{type:"COUNTRY_BY_ACTIVITY",payload:n})),b(1),v("Ordered by activity ".concat(t.target.value))}return Object(c.useEffect)((function(){e(E()),e(_())}),[e]),Object(u.jsxs)("div",{children:[Object(u.jsx)(N,{setCurrentPage:b}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("h3",{children:"Busqueda por:"})}),Object(u.jsx)("div",{children:Object(u.jsxs)("select",{onChange:function(t){return function(t){t.preventDefault(),e({type:"ORDER_BY_COUNTRY",payload:t.target.value}),b(1),v("Ordered by the alphabeth ".concat(t.target.value))}(t)},children:[Object(u.jsx)("option",{children:"Alphabet order"}),Object(u.jsx)("option",{value:"asc",children:"A-Z"}),Object(u.jsx)("option",{value:"desc",children:"Z-A"})]})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Continent:"}),Object(u.jsxs)("select",{onChange:function(t){return function(t){t.preventDefault(),b(1),e({type:"FILTER_BY_CONTINENT",payload:t.target.value})}(t)},children:[Object(u.jsx)("option",{value:"",children:"---"}),Object(u.jsx)("option",{value:"Africa",children:"\xc1frica"}),Object(u.jsx)("option",{value:"Americas",children:"Am\xe9rica"}),Object(u.jsx)("option",{value:"Antarctic",children:"Ant\xe1rtica"}),Object(u.jsx)("option",{value:"Asia",children:"Asia"}),Object(u.jsx)("option",{value:"Europe",children:"Europa"}),Object(u.jsx)("option",{value:"Oceania",children:"Ocean\xeda"})]})]}),Object(u.jsx)("div",{children:Object(u.jsxs)("select",{onChange:function(t){return function(t){var n;t.preventDefault(),e({type:"ORDER_BY_POPULATION",payload:n}),b(1),v("Ordered by population ".concat(t.target.value))}(t)},children:[Object(u.jsx)("option",{children:"Population"}),Object(u.jsx)("option",{value:"low",children:"smallest to largest population"}),Object(u.jsx)("option",{value:"high",children:"largest to smallest population"})]})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Activities: "}),0===(null===r||void 0===r?void 0:r.length)?Object(u.jsx)(o.b,{to:"/createActivity",children:Object(u.jsx)("p",{children:"Create activities"})}):Object(u.jsx)("select",{onChange:function(e){return g(e)},children:null===r||void 0===r?void 0:r.map((function(e){return Object(u.jsxs)("option",{value:e,children:[" ",e," "]},e)}))})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(t){return function(t){t.preventDefault(),e(E()),e(_()),window.location.reload()}(t)},children:"Limpiar filtro"})})]}),Object(u.jsx)("div",{children:null===m||void 0===m?void 0:m.map((function(e){return Object(u.jsx)(A,{name:e.name,continent:e.continent,flag:e.flag,id:e.id},e.id)}))}),Object(u.jsx)(S,{countryPerPage:p,allCountries:t.length,paging:function(e){b(e),h(1===e?9:10)}})]})}function Y(){var e,t=Object(i.g)().id,n=Object(j.b)(),r=Object(j.c)((function(e){return e.details}));return Object(c.useEffect)((function(){n(function(e){return function(){var t=Object(d.a)(Object(b.a)().mark((function t(n){var c;return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("http://localhost:3001/country/".concat(e)).data;case 3:return c=t.sent,t.abrupt("return",n({type:"GET_DETAILS",payload:c}));case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[]),Object(u.jsxs)("div",{children:[(null===r||void 0===r?void 0:r.hasOwnProperty("name"))&&Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:r.flag,alt:"Bandera"}),Object(u.jsx)("h2",{children:r.name}),Object(u.jsxs)("h3",{children:[Object(u.jsx)("i",{children:"Capital"})," ",r.capital[0]]}),Object(u.jsxs)("h4",{children:[Object(u.jsx)("i",{children:"Code:"})," ",r.id]}),Object(u.jsxs)("h4",{children:[Object(u.jsx)("i",{children:"Subregion:"})," ",r.subregion]}),Object(u.jsxs)("h4",{children:[Object(u.jsx)("i",{children:"Area:"})," ",parseInt(r.area).toLocaleString("de-DE")," Km2"]}),Object(u.jsxs)("h4",{children:[Object(u.jsx)("i",{children:"Population:"})," ",r.population.toLocaleString("de-DE")]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:Object(u.jsx)("i",{children:"Touristic Activities:"})}),Object(u.jsx)("br",{}),(null===(e=r.activity)||void 0===e?void 0:e.length)>0?r.activity.map((function(e){return Object(u.jsxs)("p",{children:[Object(u.jsxs)("li",{children:["Activity: ",e.name]}),Object(u.jsxs)("li",{children:["Season: ",e.season]}),Object(u.jsxs)("li",{children:["Span: ",e.span]}),Object(u.jsxs)("li",{children:["Difficulty: ",e.difficulty]}),Object(u.jsx)("br",{})]},e.id)})):Object(u.jsx)("h2",{children:"\xa1It has no activities!"})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)(o.b,{to:"/home",children:"\u276e\u276e Return"})})]})}var w=n(34),R=n(11),D=n(3);function P(e){var t={};return e.name||(t.name="Activity name is required"),e.difficulty||(t.difficulty="Difficulty is required"),e.span?4!==e.span.length&&(t.span="should have 3 characters (2 hr)"):t.span="Activity span is required",e.season||(t.season="Season is required"),0===e.countries.length&&(t.countries="should assign at least a country to the activity"),t}function L(){var e=Object(j.b)(),t=Object(i.f)(),n=Object(j.c)((function(e){return e.onlyCountries})),r=Object(c.useState)({name:"",difficulty:"",span:"",season:"",countries:""}),a=Object(l.a)(r,2),s=a[0],O=a[1],h=Object(c.useState)({name:"",difficulty:"",span:"",season:"",country:[]}),f=Object(l.a)(h,2),v=f[0],x=f[1];function y(e){x(Object(D.a)(Object(D.a)({},v),{},Object(R.a)({},e.target.name,e.target.value))),O(P(Object(D.a)(Object(D.a)({},v),{},Object(R.a)({},e.target.value,e.target.value))))}function m(n){var c;n.preventDefault(),O(P(v)),0===Object.keys(s).length?(e((c=n,function(){var e=Object(d.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("http://localhost:3001/activity",c).data;case 3:return n=e.sent,console.log(n),e.abrupt("return",t({type:"GET_ACTIVITY",payload:n}));case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),alert("Activity created"),x({nameActivity:"",difficulty:"",span:"",season:"",country:[]}),t("/home")):alert("There are some data missing")}return Object(c.useEffect)((function(){e(function(){var e=Object(d.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:3001/countriesList").data;case 3:return n=e.sent,console.log(n),e.abrupt("return",t({type:"GET_ONLY_COUNTRIES",payload:n}));case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Create Touristic Activity"}),Object(u.jsxs)("form",{onSubmit:function(e){return m(e)},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Touristic Activity: "}),Object(u.jsx)("input",{type:"text",value:v.name,name:"name",onChange:function(e){return y(e)}}),s.name&&Object(u.jsx)("p",{children:s.name})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Difficulty: "}),"|",Object(u.jsx)("input",{type:"radio",value:"1",name:"difficulty",onChange:function(e){return y(e)}}),"1| |",Object(u.jsx)("input",{type:"radio",value:"2",name:"difficulty",onChange:function(e){return y(e)}}),"2| |",Object(u.jsx)("input",{type:"radio",value:"3",name:"difficulty",onChange:function(e){return y(e)}}),"3| |",Object(u.jsx)("input",{type:"radio",value:"4",name:"difficulty",onChange:function(e){return y(e)}}),"4| |",Object(u.jsx)("input",{type:"radio",value:"5",name:"difficulty",onChange:function(e){return y(e)}}),"5|",s.difficulty&&Object(u.jsx)("p",{children:s.difficulty})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Span:"}),Object(u.jsx)("input",{type:"text",value:v.span,name:"span",onChange:function(e){return y(e)},placeholder:"Tiempo en horas. Ej: 2 hr"}),s.span&&Object(u.jsx)("p",{children:s.span})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Season:"}),Object(u.jsxs)("select",{onChange:function(e){return function(e){x(Object(D.a)(Object(D.a)({},v),{},{season:e.target.value})),O(P(Object(D.a)(Object(D.a)({},v),{},Object(R.a)({},e.target.name,e.target.value))))}(e)},children:[Object(u.jsx)("option",{disabled:!0,hidden:!0,children:"Season"}),Object(u.jsx)("option",{value:"summer",children:"Summer"}),Object(u.jsx)("option",{value:"autumn",children:"Autumn"}),Object(u.jsx)("option",{value:"winter",children:"Winter"}),Object(u.jsx)("option",{value:"spring",children:"Spring"})]}),s.season&&Object(u.jsx)("p",{children:s.season})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Countries: "}),Object(u.jsx)("select",{onChange:function(e){return function(e){x(Object(D.a)(Object(D.a)({},v),{},{country:[].concat(Object(w.a)(v.country),[e.target.value])})),O(P(Object(D.a)(Object(D.a)({},v),{},Object(R.a)({},e.target.name,e.target.value))))}(e)},children:n?n.map((function(e){return Object(u.jsx)("option",{value:e.name,children:e.name},e.name)})):"No hay paises para seleccionar"}),s.countries&&Object(u.jsx)("p",{children:s.countries})]}),v.country?v.country.map((function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:e}),Object(u.jsx)("button",{onClick:function(){return function(e){x(Object(D.a)(Object(D.a)({},v),{},{country:v.country.filter((function(t){return t!==e}))}))}(e)},children:"x"})]},e)})):"No hay paises a eliminar",Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",disabled:!!(s.name||s.difficulty||s.span||s.season||s.countries),children:"Create"})})]}),Object(u.jsx)("div",{children:Object(u.jsx)(o.b,{to:"/home",children:"\u276e\u276e Back"})})]})}var B=function(){return Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{exact:!0,path:"/",element:Object(u.jsx)(s,{})}),Object(u.jsx)(i.a,{path:"/home",element:Object(u.jsx)(I,{})}),Object(u.jsx)(i.a,{path:"/country/:id",element:Object(u.jsx)(Y,{})}),Object(u.jsx)(i.a,{path:"/createActivity",element:Object(u.jsx)(L,{})})]})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},k=n(19),G={country:[],allCountries:[],details:{},onlyCountries:[],activity:[]};var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(D.a)(Object(D.a)({},e),{},{country:t.payload,allCountries:t.payload});case f:return Object(D.a)(Object(D.a)({},e),{},{country:t.payload});case v:return Object(D.a)(Object(D.a)({},e),{},{details:t.payload});case x:var n="asc"===t.payload?e.country.sort((function(e,t){return e.nameCountry>t.nameCountry?1:t.nameCountry>e.nameCountry?-1:0})):e.country.sort((function(e,t){return e.nameCountry>t.nameCountry?-1:t.nameCountry>e.nameCountry?1:0}));return Object(D.a)(Object(D.a)({},e),{},{country:n});case y:var c=e.allCountries,r="All"===t.payload?c:c.filter((function(e){return e.continent===t.payload}));return Object(D.a)(Object(D.a)({},e),{},{country:r});case m:var a="low"===t.payload?e.country.sort((function(e,t){return e.population>t.population?1:e.population<t.population?-1:0})):e.country.sort((function(e,t){return e.population>t.population?-1:e.population<t.population?1:0}));return Object(D.a)(Object(D.a)({},e),{},{country:a});case g:return Object(D.a)(Object(D.a)({},e),{},{onlyCountries:t.payload});case C:return Object(D.a)(Object(D.a)({},e),{},{activity:t.payload});case T:var i=e.country,o="All"===t.payload?i:i.filter((function(e){return e.activity.find((function(e){return e.name===t.payload}))}));return Object(D.a)(Object(D.a)({},e),{},{country:o});default:return e}},V=n(33),q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||k.b,M=Object(k.c)(F,q(Object(k.a)(V.a)));a.a.render(Object(u.jsx)(j.a,{store:M,children:Object(u.jsx)(o.a,{children:Object(u.jsx)(B,{})})}),document.getElementById("root")),U()}},[[68,1,2]]]);
//# sourceMappingURL=main.82d504c7.chunk.js.map